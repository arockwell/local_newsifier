INFO:     Started server process [38794]
INFO:     Waiting for application startup.
2025-05-17 01:18:12,836 - src.local_newsifier.api.main - INFO - Application startup initiated
2025-05-17 01:18:12,836 - local_newsifier.database.engine - INFO - Starting database tables creation
2025-05-17 01:18:12,836 - local_newsifier.database.engine - INFO - Connecting to database: ********ql://********:********@localhost:5432/local_newsifier_2a577328
2025-05-17 01:18:12,931 - local_newsifier.database.engine - INFO - Database engine created and verified successfully
2025-05-17 01:18:12,944 - local_newsifier.database.engine - INFO - Successfully created all database tables
2025-05-17 01:18:12,944 - src.local_newsifier.api.main - INFO - Database initialization completed
2025-05-17 01:18:12,944 - src.local_newsifier.api.main - INFO - Initializing fastapi-injectable
2025-05-17 01:18:12,944 - src.local_newsifier.api.main - INFO - Migrating container services to fastapi-injectable
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for environment with use_cache=False
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service environment with fastapi-injectable
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for article_crud with use_cache=False
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service article_crud with fastapi-injectable
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for analysis_result_crud with use_cache=False
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service analysis_result_crud with fastapi-injectable
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for apify_source_config_crud with use_cache=False
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service apify_source_config_crud with fastapi-injectable
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for entity_crud with use_cache=False
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service entity_crud with fastapi-injectable
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for canonical_entity_crud with use_cache=False
2025-05-17 01:18:12,944 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service canonical_entity_crud with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for entity_mention_context_crud with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service entity_mention_context_crud with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for entity_profile_crud with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service entity_profile_crud with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for entity_relationship_crud with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service entity_relationship_crud with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for rss_feed_crud with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service rss_feed_crud with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for feed_processing_log_crud with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered service feed_processing_log_crud with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for session_factory with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service session_factory with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for get_session with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service get_session with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory web_scraper_tool: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory rss_parser_tool: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory file_writer_tool: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for web_scraper with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service web_scraper with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for rss_parser with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service rss_parser with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for file_writer with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service file_writer with fastapi-injectable
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory trend_analyzer_tool: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory context_analyzer_tool: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory sentiment_analyzer_tool: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory sentiment_tracker_tool: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory opinion_visualizer_tool: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory trend_reporter_tool: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory analysis_service: this event loop is already running.
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for trend_analyzer with use_cache=False
2025-05-17 01:18:12,945 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service trend_analyzer with fastapi-injectable
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for context_analyzer with use_cache=False
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service context_analyzer with fastapi-injectable
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for sentiment_analyzer with use_cache=False
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service sentiment_analyzer with fastapi-injectable
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for sentiment_tracker with use_cache=False
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service sentiment_tracker with fastapi-injectable
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for opinion_visualizer with use_cache=False
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service opinion_visualizer with fastapi-injectable
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for trend_reporter with use_cache=False
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service trend_reporter with fastapi-injectable
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory entity_extractor_tool: this event loop is already running.
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory entity_resolver_tool: this event loop is already running.
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory entity_tracker_tool: this event loop is already running.
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for entity_extractor with use_cache=False
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service entity_extractor with fastapi-injectable
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for entity_resolver with use_cache=False
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service entity_resolver with fastapi-injectable
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for entity_tracker with use_cache=False
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service entity_tracker with fastapi-injectable
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory article_service: this event loop is already running.
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory rss_feed_service: this event loop is already running.
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory apify_service: name 'environment' is not defined
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for apify_source_config_service with use_cache=False
2025-05-17 01:18:12,946 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service apify_source_config_service with fastapi-injectable
╭─────────────────────────────── Flow Execution ───────────────────────────────╮
│                                                                              │
│  Starting Flow Execution                                                     │
│  Name: EntityTrackingFlow                                                    │
│  ID: 5bb6f297-f02e-4149-a45c-463edd98fe08                                    │
│                                                                              │
│                                                                              │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-17 01:18:12,947 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory entity_tracking_flow: this event loop is already running.
╭─────────────────────────────── Flow Execution ───────────────────────────────╮
│                                                                              │
│  Starting Flow Execution                                                     │
│  Name: NewsPipelineFlow                                                      │
│  ID: 4aace3f6-4567-4ccf-828a-6d6a205aae08                                    │
│                                                                              │
│                                                                              │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-17 01:18:12,948 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory news_pipeline_flow: this event loop is already running.
╭─────────────────────────────── Flow Execution ───────────────────────────────╮
│                                                                              │
│  Starting Flow Execution                                                     │
│  Name: NewsTrendAnalysisFlow                                                 │
│  ID: c8db5d64-b1e8-48d3-807d-4d2b6dfb69fa                                    │
│                                                                              │
│                                                                              │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-17 01:18:12,948 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory trend_analysis_flow: this event loop is already running.
╭─────────────────────────────── Flow Execution ───────────────────────────────╮
│                                                                              │
│  Starting Flow Execution                                                     │
│  Name: PublicOpinionFlow                                                     │
│  ID: d64254b1-57cc-4eba-98c8-6459c205a818                                    │
│                                                                              │
│                                                                              │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-17 01:18:12,948 - local_newsifier.fastapi_injectable_adapter - WARNING - Type error registering factory public_opinion_flow: 'SessionManager' object is not an iterator
╭─────────────────────────────── Flow Execution ───────────────────────────────╮
│                                                                              │
│  Starting Flow Execution                                                     │
│  Name: RSSScrapingFlow                                                       │
│  ID: e1be4cb1-475b-4b4c-9d5c-96a5d2e8d213                                    │
│                                                                              │
│                                                                              │
╰──────────────────────────────────────────────────────────────────────────────╯

2025-05-17 01:18:12,949 - local_newsifier.fastapi_injectable_adapter - WARNING - Could not register factory rss_scraping_flow: this event loop is already running.
2025-05-17 01:18:12,949 - local_newsifier.fastapi_injectable_adapter - WARNING - Type error registering factory headline_trend_flow: HeadlineTrendFlow.__init__() got an unexpected keyword argument 'article_service'
2025-05-17 01:18:12,949 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for article_service_with_params with use_cache=False
2025-05-17 01:18:12,949 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service article_service_with_params with fastapi-injectable
2025-05-17 01:18:12,949 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for analysis_service_with_params with use_cache=False
2025-05-17 01:18:12,949 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service analysis_service_with_params with fastapi-injectable
2025-05-17 01:18:12,949 - local_newsifier.fastapi_injectable_adapter - INFO - Created provider for rss_feed_service_with_params with use_cache=False
2025-05-17 01:18:12,949 - local_newsifier.fastapi_injectable_adapter - INFO - Registered factory service rss_feed_service_with_params with fastapi-injectable
2025-05-17 01:18:12,949 - local_newsifier.fastapi_injectable_adapter - INFO - Migration complete. Registered services with fastapi-injectable.
2025-05-17 01:18:12,949 - src.local_newsifier.api.main - INFO - fastapi-injectable initialization completed
2025-05-17 01:18:12,949 - src.local_newsifier.api.main - INFO - Application startup complete
2025-05-17 01:18:12,951 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<resolve_dependencies() done, defined at /Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi_injectable/main.py:29> exception=FastAPIError('Invalid args for response field! Hint: check that typing.Optional[sqlmodel.orm.session.Session] is a valid Pydantic field type. If you are using a return type annotation that is not a valid Pydantic field (e.g. Union[Response, dict, None]) you can disable generating the response model from the type annotation with the path operation decorator parameter response_model=None. Read more: https://fastapi.tiangolo.com/tutorial/response-model/')>
Traceback (most recent call last):
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi_injectable/main.py", line 48, in resolve_dependencies
    root_dep = get_dependant(path="command", call=func)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 266, in get_dependant
    param_details = analyze_param(
                    ^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 467, in analyze_param
    field = create_model_field(
            ^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi/utils.py", line 98, in create_model_field
    raise fastapi.exceptions.FastAPIError(
fastapi.exceptions.FastAPIError: Invalid args for response field! Hint: check that typing.Optional[sqlmodel.orm.session.Session] is a valid Pydantic field type. If you are using a return type annotation that is not a valid Pydantic field (e.g. Union[Response, dict, None]) you can disable generating the response model from the type annotation with the path operation decorator parameter response_model=None. Read more: https://fastapi.tiangolo.com/tutorial/response-model/
2025-05-17 01:18:12,953 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-10' coro=<resolve_dependencies() done, defined at /Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi_injectable/main.py:29> exception=AssertionError("`Query` default value cannot be set in `Annotated` for 'session'. Set the default value with `=` instead.")>
Traceback (most recent call last):
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi_injectable/main.py", line 48, in resolve_dependencies
    root_dep = get_dependant(path="command", call=func)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 266, in get_dependant
    param_details = analyze_param(
                    ^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 369, in analyze_param
    assert field_info.default is Undefined or field_info.default is Required, (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: `Query` default value cannot be set in `Annotated` for 'session'. Set the default value with `=` instead.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
2025-05-17 01:20:27,197 - local_newsifier.database.engine - INFO - Connecting to database: ********ql://********:********@localhost:5432/local_newsifier_2a577328
2025-05-17 01:20:27,215 - local_newsifier.database.engine - INFO - Database engine created and verified successfully
INFO:     127.0.0.1:63685 - "GET / HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/middleware/sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/dev/cursor3/local_newsifier/src/local_newsifier/api/main.py", line 119, in root
    return templates.TemplateResponse(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/templating.py", line 230, in TemplateResponse
    return _TemplateResponse(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/starlette/templating.py", line 40, in __init__
    content = template.render(context)
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "src/local_newsifier/api/templates/index.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "src/local_newsifier/api/templates/base.html", line 181, in top-level template code
    {% block content %}
  File "src/local_newsifier/api/templates/index.html", line 31, in block 'content'
    <a href="{{ article.url }}" target="_blank">{{ article.title }}</a>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/jinja2/environment.py", line 490, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1116, in _fire_loader_callables
    return state._load_expired(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/sqlalchemy/orm/state.py", line 803, in _load_expired
    self.manager.expired_attribute_loader(self, toload, passive)
  File "/Users/alexrockwell/Library/Caches/pypoetry/virtualenvs/local-newsifier-LHP1a2f6-py3.12/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 1603, in load_scalar_attributes
    raise orm_exc.DetachedInstanceError(
sqlalchemy.orm.exc.DetachedInstanceError: Instance <Article at 0x135b10500> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
INFO:     127.0.0.1:63698 - "HEAD / HTTP/1.1" 405 Method Not Allowed
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-05-17 01:24:29,608 - src.local_newsifier.api.main - INFO - Application shutdown initiated
2025-05-17 01:24:29,608 - src.local_newsifier.api.main - INFO - Application shutdown complete
INFO:     Application shutdown complete.
INFO:     Finished server process [38794]
