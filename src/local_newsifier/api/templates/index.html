{% extends "base.html" %}

{% block title %}Local Newsifier - Home{% endblock %}

{% block content %}
<div class="card">
    <h2 class="card-title">Welcome to Local Newsifier</h2>
    <p>Local Newsifier is a tool for fetching, analyzing, and storing local news articles. This system helps track entities, analyze trends, and provide insights into local news coverage.</p>
    
    <h3>Key Features:</h3>
    <ul>
        <li>Article scraping and extraction</li>
        <li>Entity recognition and tracking</li>
        <li>Sentiment analysis</li>
        <li>Trend detection and reporting</li>
        <li>Relationship mapping between entities</li>
    </ul>
    
    <div style="margin-top: 2rem;">
        <a href="/docs" class="button">API Documentation</a>
    </div>
</div>

{% if recent_articles %}
<div class="card">
    <h2 class="card-title">Recent Headlines</h2>
    <div class="articles-list">
        {% for article in recent_articles %}
        <div class="article-item">
            <h3>
                <a href="{{ article.url }}" target="_blank">{{ article.title }}</a>
            </h3>
            <div class="article-meta">
                <span class="source">{{ article.source }}</span>
                <span class="date">{{ article.published_at.strftime('%Y-%m-%d') }}</span>
            </div>
        </div>
        {% endfor %}
    </div>
    <style>
        .articles-list {
            margin-top: 1rem;
        }
        .article-item {
            margin-bottom: 1.2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        .article-item:last-child {
            border-bottom: none;
        }
        .article-item h3 {
            margin-bottom: 0.3rem;
            font-size: 1.1rem;
        }
        .article-meta {
            font-size: 0.85rem;
            color: #666;
            display: flex;
            gap: 1rem;
        }
        .source {
            font-weight: 500;
        }
    </style>
</div>
{% endif %}

<div class="card">
    <h2 class="card-title">System Status</h2>
    <table>
        <thead>
            <tr>
                <th>Component</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>API Endpoints</td>
                <td>✅ Available</td>
            </tr>
            <tr>
                <td>Web Interface</td>
                <td>✅ Running</td>
            </tr>
            <tr>
                <td>Database</td>
                <td>✅ Connected</td>
            </tr>
        </tbody>
    </table>
    
    <div style="margin-top: 2rem;">
        <a href="/system/tables" class="button">View Database Tables</a>
    </div>
</div>
{% endblock %}
